openapi: 3.0.0
info:
  title: Financial Advisor Backend API
  description: Backend service for the financial advisor frontend.
  version: "1.0"
servers:
  - url: http://localhost:8084
    description: Development server
paths:
  /common/kyc:
    post:
      summary: Fetch KYC details
      description: Retrieves the KYC data.
      operationId: kyc
      parameters:
        - name: authorization
          in: header
          required: true
          description: Bearer token for authorization.
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - kycIdentityType
                - IdentityNumber
              properties:
                kycIdentityType:
                  type: string
                  description: Type of the identity used for KYC (A - Aadhaar / P - PAN).
                  example: "A"
                IdentityNumber:
                  type: string
                  description: Identity number associated with the selected type.
                  example: "3243132568798"
      responses:
        "200":
          description: KYC data fetched successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: HTTP status code
                    example: 200
                  message:
                    type: string
                    description: Status message
                    example: "KYC data fetched successfully"
                  data:
                    type: object
                    properties:
                      aadhaar:
                        type: object
                        description: Aadhaar details
                        properties:
                          aadhaar_number:
                            type: string
                            description: Masked Aadhaar number
                            example: "XXXX-XXXX-1234"
                          aadhaar_status:
                            type: string
                            description: Status of Aadhaar verification
                            example: "Verified"
                          aadhaar_holder_name:
                            type: string
                            description: Name of the Aadhaar holder
                            example: "Ravi Kumar"
                          aadhaar_verification_date:
                            type: string
                            description: Aadhaar verification date
                            example: "2024-12-01"
                          aadhaar_expiry_date:
                            type: string
                            description: Aadhaar expiry date
                            example: "2034-12-01"
                          aadhaar_issue_authority:
                            type: string
                            description: Issuing authority of Aadhaar
                            example: "UIDAI"
                          aadhaar_consent_status:
                            type: string
                            description: Consent status for Aadhaar data sharing
                            example: "Granted"
                          aadhaar_status_message:
                            type: string
                            description: Status message for Aadhaar verification
                            example: "Aadhaar is verified and active."
                      pan:
                        type: object
                        description: PAN details
                        properties:
                          pan_number:
                            type: string
                            description: Masked PAN number
                            example: "ABCDE****F"
                          pan_status:
                            type: string
                            description: Status of PAN verification
                            example: "Active"
                          pan_holder_name:
                            type: string
                            description: Name of the PAN holder
                            example: "Ravi Kumar"
                          pan_verification_date:
                            type: string
                            description: PAN verification date
                            example: "2024-11-25"
                          pan_expiry_date:
                            type: string
                            description: PAN expiry date
                            example: "2030-11-25"
                          pan_issue_authority:
                            type: string
                            description: Issuing authority of PAN
                            example: "Income Tax Department"
                          pan_consent_status:
                            type: string
                            description: Consent status for PAN data sharing
                            example: "Granted"
                          pan_status_message:
                            type: string
                            description: Status message for PAN verification
                            example: "PAN is active and linked to tax records."
        "401":
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Unauthorized access."

  /common/verify-kyc:
    post:
      summary: Check otp and Fetch KYC details
      description: Retrieves the KYC data after varifying otp.
      operationId: verifyKyc
      parameters:
        - name: authorization
          in: header
          required: true
          description: Bearer token for authorization.
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - otp
              properties:
                otp:
                  type: string
                  description: OTP to verify.
                  example: "123456"
      responses:
        "200":
          description: Otp verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: HTTP status code
                    example: 200
                  message:
                    type: string
                    description: Status message
                    example: "Otp verified successfully"
                  data:
                    type: object
                    properties:
                      aadhaar:
                        type: object
                        description: Aadhaar details
                        properties:
                          aadhaar_number:
                            type: string
                            description: Masked Aadhaar number
                            example: "XXXX-XXXX-1234"
                          aadhaar_status:
                            type: string
                            description: Status of Aadhaar verification
                            example: "Verified"
                          aadhaar_holder_name:
                            type: string
                            description: Name of the Aadhaar holder
                            example: "Ravi Kumar"
                          aadhaar_verification_date:
                            type: string
                            description: Aadhaar verification date
                            example: "2024-12-01"
                          aadhaar_expiry_date:
                            type: string
                            description: Aadhaar expiry date
                            example: "2034-12-01"
                          aadhaar_issue_authority:
                            type: string
                            description: Issuing authority of Aadhaar
                            example: "UIDAI"
                          aadhaar_consent_status:
                            type: string
                            description: Consent status for Aadhaar data sharing
                            example: "Granted"
                          aadhaar_status_message:
                            type: string
                            description: Status message for Aadhaar verification
                            example: "Aadhaar is verified and active."
                      pan:
                        type: object
                        description: PAN details
                        properties:
                          pan_number:
                            type: string
                            description: Masked PAN number
                            example: "ABCDE****F"
                          pan_status:
                            type: string
                            description: Status of PAN verification
                            example: "Active"
                          pan_holder_name:
                            type: string
                            description: Name of the PAN holder
                            example: "Ravi Kumar"
                          pan_verification_date:
                            type: string
                            description: PAN verification date
                            example: "2024-11-25"
                          pan_expiry_date:
                            type: string
                            description: PAN expiry date
                            example: "2030-11-25"
                          pan_issue_authority:
                            type: string
                            description: Issuing authority of PAN
                            example: "Income Tax Department"
                          pan_consent_status:
                            type: string
                            description: Consent status for PAN data sharing
                            example: "Granted"
                          pan_status_message:
                            type: string
                            description: Status message for PAN verification
                            example: "PAN is active and linked to tax records."
        "401":
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Unauthorized access."

  /application/tracker-count:
    get:
      summary: Get status specic counts for app tracker.
      description: Get status specic counts for app tracker.
      operationId: appTrackerCount
      parameters:
        - name: authorization
          in: header
          required: true
          description: Bearer token for authorization.
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."
      responses:
        "200":
          description: Otp verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: HTTP status code
                    example: 200
                  message:
                    type: string
                    description: Status message
                    example: "Data fetched successfully!"
                  data:
                    type: object
                    properties:
                      draft:
                        type: object
                        description: Containe draft count
                        properties:
                          count:
                            type: number
                            description: Get draft application count
                            example: 10
                      requirementPending:
                        type: object
                        description: Containe requirement pending count
                        properties:
                          count:
                            type: number
                            description: Get requirement pending application count
                            example: 10
                      qcUW:
                        type: object
                        description: Containe QC/UW count
                        properties:
                          count:
                            type: number
                            description: Get QC/UW application count
                            example: 10
                      decisionProvided:
                        type: object
                        description: Containe decision provided count
                        properties:
                          count:
                            type: number
                            description: Get decision provided application count
                            example: 10
        "401":
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Unauthorized access."

  /application/tracker-list:
    post:
      summary: Application tracker list based on status
      description: Application tracker list based on status.
      operationId: appTrackerList
      parameters:
        - name: authorization
          in: header
          required: true
          description: Bearer token for authorization.
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - statusType
                - limit
                - pageNo
              properties:
                statusType:
                  type: number
                  description: Status type to filter data (1-draft,2-requirementPending,3-qc,4-approved).
                  example: 1
                limit:
                  type: number
                  description: Record limit like (10,20,30,40,50,etc...)
                  example: 20
                pageNo:
                  type: number
                  description: Current page starts with 0 to n.
                  example: 0
                searchKeyword:
                  type: string
                  description: Search with application no or customer name keyword.
                  example: "john doe"
      responses:
        "200":
          description: List fetched successfully!
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: HTTP status code
                    example: 200
                  message:
                    type: string
                    description: Status message
                    example: "List fetched successfully!"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          description: Application unique ID
                          example: "1"
                        application_id:
                          type: number
                          description: Application ID/Policy/Proposal No
                          example: "6766647999"
                        quote_id:
                          type: number
                          description: Quotation No
                          example: "12321321321"
                        lead_id:
                          type: number
                          description: Lead ID
                          example: "1"
                        status:
                          type: number
                          description: Application status like draft, QC, etc..
                          example: "1"
                        application_json:
                          type: object
                          description: Customer details object
                          example: "{}"
                        quote_json:
                          type: number
                          description: Quotation JSON Details
                          example: "{}"
                        requirement_json:
                          type: number
                          description: Medical/FInancial/PSC or Underwriting required doc upload Object
                          example: "{}"
        "401":
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Unauthorized access."

  /application/agent-details:
    post:
      summary: Fetch Agent Details
      description: Retrieves the agent details.
      operationId: agentDetails
      parameters:
        - name: authorization
          in: header
          required: true
          description: Bearer token for authorization.
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - agentCode
              properties:
                agentCode:
                  type: string
                  description: Agent code of the agent.
                  example: "AGT12345"
      responses:
        "200":
          description: Agent data fetched successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: HTTP status code
                    example: 200
                  message:
                    type: string
                    description: Status message
                    example: "Agent data fetched successfully"
                  data:
                    type: object
                    properties:
                      agentCode:
                        type: string
                        description: Unique code of the agent
                        example: "AGT12345"
                      name:
                        type: string
                        description: Name of the agent
                        example: "Rahul Sharma"
                      branchCode:
                        type: string
                        description: Code of the branch the agent is associated with
                        example: "BRC5678"
                      branchName:
                        type: string
                        description: Name of the branch
                        example: "Mumbai Central"
                      branchLocation:
                        type: string
                        description: Location of the branch
                        example: "Mumbai, Maharashtra"
        "401":
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Unauthorized access."
