openapi: 3.0.0
info:
  title: Financial Advisor Backend API
  description: Backend service for the financial advisor frontend.
  version: "1.0"
servers:
  - url: http://localhost:8084
    description: Development server
paths:
  /common/verify-ekyc:
    post:
      summary: Fetch KYC details
      description: Retrieves the KYC data.
      operationId: ekyc
      parameters:
        - name: authorization
          in: header
          required: true
          description: Bearer token for authorization.
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - kycIdentityType
                - IdentityNumber
              properties:
                kycIdentityType:
                  type: string
                  description: Type of the identity used for KYC (A - Aadhaar / P - PAN).
                  example: "A"
                IdentityNumber:
                  type: string
                  description: Identity number associated with the selected type.
                  example: "3243132568798"
      responses:
        "200":
          description: KYC data fetched successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: HTTP status code
                    example: 200
                  message:
                    type: string
                    description: Status message
                    example: "KYC data fetched successfully"
                  data:
                    type: object
                    properties:
                      Certificate:
                        type: object
                        properties:
                          CertificateData:
                            type: object
                            properties:
                              KycRes:
                                type: object
                                properties:
                                  code:
                                    type: string
                                    description: Unique KYC code
                                    example: "42d044af1b3542c993e4f453e67e2d90"
                                  ret:
                                    type: string
                                    description: Result of KYC (Y/N)
                                    example: "Y"
                                  ts:
                                    type: string
                                    description: Timestamp of KYC verification
                                    example: "2023-08-14T12:50:55.963+05:30"
                                  ttl:
                                    type: string
                                    description: Expiry timestamp of KYC
                                    example: "2024-08-13T12:50:55"
                                  txn:
                                    type: string
                                    description: Transaction ID
                                    example: "UKC:7b4ec534ad17bf62e08f61421dde2ed320230814125036"
                                  UidData:
                                    type: object
                                    properties:
                                      tkn:
                                        type: string
                                        description: Encrypted token
                                        example: "0100227408hNcQYBw1tPly5gUBmZ..."
                                      uid:
                                        type: string
                                        description: Masked UID (Aadhaar)
                                        example: "xxxxxxxx9852"
                                      Poi:
                                        type: object
                                        description: Personal details
                                        properties:
                                          dob:
                                            type: string
                                            description: Date of Birth
                                            example: "14-09-1990"
                                          gender:
                                            type: string
                                            description: Gender
                                            example: "M"
                                          name:
                                            type: string
                                            description: Full Name
                                            example: "Ketan Gopal Jangade"
                                      Poa:
                                        type: object
                                        description: Address details
                                        properties:
                                          co:
                                            type: string
                                            description: Care of (C/O) details
                                            example: "S/O Gopal Jangade"
                                          country:
                                            type: string
                                            description: Country
                                            example: "India"
                                          dist:
                                            type: string
                                            description: District
                                            example: "Nagpur"
                                          pc:
                                            type: integer
                                            description: Postal code
                                            example: 440009
                                          state:
                                            type: string
                                            description: State
                                            example: "Maharashtra"
                                          vtc:
                                            type: string
                                            description: Village/Tehsil/City
                                            example: "Hanuman Nagar S.O"
                                      LData:
                                        type: object
                                        description: Local language details
                                        properties:
                                          name:
                                            type: string
                                            description: Name in local language
                                            example: "केतन गोपाल जांगडे"
                                          dist:
                                            type: string
                                            description: District in local language
                                            example: "नागपूर"
                                          state:
                                            type: string
                                            description: State in local language
                                            example: "महाराष्ट्र"
                                      Pht:
                                        type: string
                                        description: Base64 encoded photo
                                        example: "/9j/4AAQxkZ..."
        "401":
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Unauthorized access."

  /common/verify-ckyc:
    post:
      summary: Fetch KYC details
      description: Retrieves the KYC data.
      operationId: ckyc
      parameters:
        - name: authorization
          in: header
          required: true
          description: Bearer token for authorization.
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - kycIdentityType
                - IdentityNumber
              properties:
                kycIdentityType:
                  type: string
                  description: Type of the identity used for KYC (A - Aadhaar / P - PAN).
                  example: "A"
                IdentityNumber:
                  type: string
                  description: Identity number associated with the selected type.
                  example: "3243132568798"
      responses:
        "200":
          description: KYC data fetched successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: HTTP status code
                    example: 200
                  message:
                    type: string
                    description: Status message
                    example: "KYC data fetched successfully"
                  data:
                    type: object
                    properties:
                      PID_DATA:
                        type: object
                        properties:
                          CKYC_NO:
                            type: string
                            description: Central KYC number.
                            example: "50008055039603"
                          NAME:
                            type: string
                            description: Full name of the individual.
                            example: "Mr Ketan Gopal Jangade"
                          FATHERS_NAME:
                            type: string
                            description: Name of the individual's father.
                            example: "Mr Mahesh Jangade"
                          AGE:
                            type: integer
                            description: Age of the individual.
                            example: 33
                          IMAGE_TYPE:
                            type: string
                            description: Type of the image file.
                            example: "jpg"
                          PHOTO:
                            type: string
                            description: Base64 encoded photo.
                            example: "/9j/4AAQSkZ..."
                          KYC_DATE:
                            type: string
                            description: Date of KYC completion.
                            example: "21-08-2023"
                          UPDATED_DATE:
                            type: string
                            description: Date of the last update to the KYC.
                            example: "21-08-2023"
                          ID_LIST:
                            type: object
                            properties:
                              ID:
                                type: array
                                description: List of identification types and their statuses.
                                items:
                                  type: object
                                  properties:
                                    TYPE:
                                      type: string
                                      description: Identification type (e.g., A, B, F, C).
                                      example: "A"
                                    STATUS:
                                      type: string
                                      description: Status code of the identification type.
                                      example: "03"
                          REMARKS:
                            type: object
                            description: Any additional remarks.
                            example: {}
        "401":
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Unauthorized access."
